<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Roman Baths Simulation</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Loading screen -->
    <div id="loading-screen">
        <div class="loading-container">
            <h2>Loading Roman Baths Simulation</h2>
            <div class="progress-bar-container">
                <div id="progress-bar"></div>
            </div>
            <p id="loading-text">Loading assets...</p>
        </div>
    </div>
    
    <div id="info">
        <h1>Roman Baths Simulation</h1>
        <p>Use mouse to rotate, scroll to zoom, and right-click drag to pan</p>
        <div class="controls-info">
            <h2>Controls:</h2>
            <ul>
                <li>WASD - Move the bath attendant</li>
                <li>F - Toggle camera follow mode</li>
                <li>Mouse - Rotate camera</li>
                <li>Scroll - Zoom in/out</li>
                <li>M - Toggle music</li>
            </ul>
            <p class="info-text">Collect gold pots before Cousin Lydia (in red) does! If you collide with her, you'll both drop pots. When all pots are collected, the game is over and the winner is displayed. Watch out for the black cat wandering around. Use the minimap in the bottom right to track everyone's positions.</p>
        </div>
        <div class="audio-controls">
            <button id="toggle-music">Toggle Music</button>
            <input type="range" id="volume-slider" min="0" max="1" step="0.1" value="0.5">
        </div>
        <div class="score-display">
            <h2>Gold Pots Collected: <span id="score">0</span></h2>
        </div>
    </div>
    
    <!-- We'll generate music programmatically using Web Audio API -->
    <div id="scene-container"></div>

    <!-- Import maps polyfill for browsers without import maps support -->
    <script async src="https://unpkg.com/es-module-shims@1.6.3/dist/es-module-shims.js"></script>
    <script type="importmap">
        {
            "imports": {
                "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
                "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
            }
        }
    </script>
    <script type="module" src="main.js"></script>
</body>
</html>
